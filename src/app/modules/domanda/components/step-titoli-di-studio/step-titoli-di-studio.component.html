<div class="container" fxLayout="column">
  <form>

    <table [dataSource]="titoliDiStudioDichiarati"
           cdkDropList
           #table
           [cdkDropListData]="titoliDiStudioDichiarati"
           (cdkDropListDropped)="dropTable($event)"
           id="tabDatiDichiarati"
           fxFill mat-table>

      <!-- Colonna tipologia laurea-->
      <ng-container matColumnDef="anno">
        <th *matHeaderCellDef mat-header-cell>Anno</th>
        <td *matCellDef="let row" mat-cell>{{row.dataValidazione | date: 'dd/MM/yyyy'}}</td>
      </ng-container>

      <!-- Colonna titolo di studio -->
      <ng-container matColumnDef="titolo-di-studio">
        <th *matHeaderCellDef mat-header-cell>Titolo di studio</th>
        <td *matCellDef="let row" mat-cell>{{row.tipologia.desc}}}</td>
      </ng-container>

      <!-- Colonna conseguito presso -->
      <ng-container matColumnDef="conseguito-presso">
        <th *matHeaderCellDef mat-header-cell>Conseguito presso</th>
        <td *matCellDef="let row" mat-cell> {{row.conseguitoPresso}} </td>
      </ng-container>

      <!-- Colonna edit -->
      <ng-container matColumnDef="edit">
        <th *matHeaderCellDef mat-header-cell>
          <div fxLayout="row">
            <mat-icon id="add" (click)="this.openDialogAggiungiDati()">add_box</mat-icon>
          </div>
        </th>
        <td *matCellDef="let row; let i = index" mat-cell>
            <mat-icon class="edit" (click)="deleteRow(i)">delete</mat-icon>
        </td>
      </ng-container>

      <tr *matHeaderRowDef="TitoliDiStudioHeader" mat-header-row></tr>
      <tr *matRowDef="let row; columns: TitoliDiStudioHeader; let i = index" mat-row  cdkDrag [cdkDragData]="row"></tr>
    </table>

  </form>


  <div fxLayout="column" style="margin-top: 10px;">
    <div fxFlex="row" fxLayoutGap="15px">
      <span fxFill fxFlex="1 1 0"></span>
      <button class="material-button" color="primary" mat-flat-button matStepperPrevious>Indietro</button>
      <button class="material-button" color="primary" mat-flat-button matStepperNext>Avanti</button>
    </div>
  </div>

</div>

