<div class="container" fxLayout="column">

  <h3 style="font-weight: 400">Dati risultanti</h3>

  <form id="formDatiRisultanti">

    <table [dataSource]="anagraficaDatasource"
           fxFill mat-table>

      <!-- Colonna tipologia laurea-->
      <ng-container matColumnDef="tipologia">
        <th *matHeaderCellDef mat-header-cell>Tipologia</th>
        <td *matCellDef="let row" mat-cell>{{row.tipologia}}</td>
      </ng-container>

      <!-- Colonna titolo di studio -->
      <ng-container matColumnDef="titolo-di-studio">
        <th *matHeaderCellDef mat-header-cell>Titolo di studio</th>
        <td *matCellDef="let row" mat-cell>{{row.titoloDiStudio}}</td>
      </ng-container>

      <!-- Colonna conseguito presso -->
      <ng-container matColumnDef="conseguito-presso">
        <th *matHeaderCellDef mat-header-cell>Conseguito presso</th>
        <td *matCellDef="let row" mat-cell>{{row.conseguitoPresso}}</td>
      </ng-container>

      <!-- Colonna luogo  -->
      <ng-container matColumnDef="luogo">
        <th *matHeaderCellDef mat-header-cell>Luogo</th>
        <td *matCellDef="let row" mat-cell>{{row.luogo}}</td>
      </ng-container>

      <!-- Colonna periodo conseguimento -->
      <ng-container matColumnDef="periodo-conseguimento">
        <th *matHeaderCellDef mat-header-cell>Periodo di conseguimento</th>
        <td *matCellDef="let row" mat-cell>{{row.periodoConseguimento}}</td>
      </ng-container>

      <!-- Colonna data validazione -->
      <ng-container matColumnDef="data-validazione">
        <th *matHeaderCellDef mat-header-cell>Data validazione</th>
        <td *matCellDef="let row" mat-cell>{{row.dataValidazione}}</td>
      </ng-container>

      <tr *matHeaderRowDef="TitoliDiStudioHeader" mat-header-row></tr>
      <tr *matRowDef="let row; columns: TitoliDiStudioHeader;" mat-row></tr>
    </table>
</form>


  <div fxLayout="row">
    <h3 style="font-weight: 400">Dati dichiarati</h3>
    <p style="
    font-size: 10px;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0;
    margin-inline-end: 0;
font-weight: 100;">(Editabile)</p>
  </div>

  <form>

    <table [dataSource]="titoliDiStudioDichiarati"
           cdkDropList
           #table
           [cdkDropListData]="titoliDiStudioDichiarati"
           (cdkDropListDropped)="dropTable($event)"
           id="tabDatiDichiarati"
           fxFill mat-table>

      <!-- Colonna tipologia laurea-->
      <ng-container matColumnDef="tipologia">
        <th *matHeaderCellDef mat-header-cell>Tipologia</th>
        <td *matCellDef="let row" mat-cell>{{row.tipologia}}</td>
      </ng-container>

      <!-- Colonna titolo di studio -->
      <ng-container matColumnDef="titolo-di-studio">
        <th *matHeaderCellDef mat-header-cell>Titolo di studio</th>
        <td *matCellDef="let row" mat-cell>{{row.titoloDiStudio}}</td>
      </ng-container>

      <!-- Colonna conseguito presso -->
      <ng-container matColumnDef="conseguito-presso">
        <th *matHeaderCellDef mat-header-cell>Conseguito presso</th>
        <td *matCellDef="let row" mat-cell>{{row.conseguitoPresso}}</td>
      </ng-container>

      <!-- Colonna luogo  -->
      <ng-container matColumnDef="luogo">
        <th *matHeaderCellDef mat-header-cell>Luogo</th>
        <td *matCellDef="let row" mat-cell>{{row.luogo}}</td>
      </ng-container>

      <!-- Colonna periodo conseguimento -->
      <ng-container matColumnDef="periodo-conseguimento">
        <th *matHeaderCellDef mat-header-cell>Periodo di conseguimento</th>
        <td *matCellDef="let row" mat-cell>{{row.periodoConseguimento | date: 'dd/MM/yyyy' }}</td>
      </ng-container>

      <!-- Colonna data validazione -->
      <ng-container matColumnDef="data-validazione">
        <th *matHeaderCellDef mat-header-cell>Data validazione</th>
        <td *matCellDef="let row" mat-cell>{{row.dataValidazione | date: 'dd/MM/yyyy'}}</td>
      </ng-container>

      <!-- Colonna edit -->
      <ng-container matColumnDef="edit">
        <th *matHeaderCellDef mat-header-cell>
          <div fxLayout="row">
            <mat-icon id="add" (click)="this.openDialogAggiungiDati()">add_box</mat-icon>
          </div>
        </th>
        <td *matCellDef="let row; let i = index" mat-cell>
            <mat-icon class="edit" (click)="deleteRow(i)">delete</mat-icon>
        </td>
      </ng-container>

      <tr *matHeaderRowDef="TitoliDiStudioHeaderEdit" mat-header-row></tr>
      <tr *matRowDef="let row; columns: TitoliDiStudioHeaderEdit; let i = index" mat-row  cdkDrag [cdkDragData]="row"></tr>
    </table>

  </form>


  <div fxLayout="column" style="margin-top: 10px;">
    <div fxFlex="row" fxLayoutGap="15px">
      <span fxFill fxFlex="1 1 0"></span>
      <button class="material-button" color="primary" mat-flat-button matStepperPrevious>Indietro</button>
      <button class="material-button" color="primary" mat-flat-button matStepperNext>Avanti</button>
    </div>
  </div>

</div>

